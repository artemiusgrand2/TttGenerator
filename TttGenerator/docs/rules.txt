10.04.2020
Правила формирования заданий на установку маршрутов для поездов
Формирование последующего (очередного) задания одноименного поезда возможно при выполнении  следующих условий:
Gena:
0.1 Определяем время начала расчета а) последнее подтвержденное сообщение; б) начало нитки;
0.2 Если это время + _prevAckTime < currentTime, то прекращаем расчет.

1.	Предыдущее к очередному заданию данного поезда выполнено, либо предыдущее к очередному заданию событие данного поезда подтверждено.
2.	До прогнозного времени формирования очередного задания поезда должно оставаться меньше «T». (Прогнозное время формирования задания – это время прогнозного события минус сумма конфигурационных данных для данного маршрута (время приготовления маршрута, и т.д.).
3.	Формирование задания «Отправление на перегон» возможно только после прибытия предыдущего поезда на эту станцию, либо отправления предыдущего поезда с этой станции (в соответствии с планом!).
4.	Плановая нитка должна быть ассоциирована (связана!) с исполненной.
5.	Генерация заданий по плановым ниткам поезда возможна только после последнего исполненного события. (Если исполненная нитка началась со средины плановой, то и задания надо формировать после этого места).  
Формирование задания по первой управляемой станции плановой нитки поезда возможно в следующих случаях:
•	Без идентификации нитки необходимо наличие индивидуального разрешения для конкретной станции и события (отдельно приём на станцию и отправление со станции) и выполнение условия 2.
